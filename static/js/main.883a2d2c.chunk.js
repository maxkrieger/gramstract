(this.webpackJsonpgramstract=this.webpackJsonpgramstract||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(8),i=n.n(c),s=(n(14),n(9)),u=n(3),o=n(2),l=n.n(o),d=n(5),f=n(0),b=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={db:"pubmed",retmax:100..toString(),retstart:t.toString(),retmode:"json",sort:"date",term:'"Cell"[Journal]'},a=new URLSearchParams(r).toString(),e.next=4,fetch("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?".concat(a));case 4:return c=e.sent,e.next=7,c.json();case 7:if(!(null===(i=e.sent)||void 0===i||null===(n=i.esearchresult)||void 0===n?void 0:n.idlist)){e.next=10;break}return e.abrupt("return",i.esearchresult.idlist);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={db:"pubmed",retmode:"json",id:t.join(",")},r=new URLSearchParams(n).toString(),e.prev=2,e.next=5,fetch("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?".concat(r),{mode:"cors"});case 5:return a=e.sent,e.next=8,a.json();case 8:if(!(null===(c=e.sent)||void 0===c?void 0:c.result)){e.next=11;break}return e.abrupt("return",c.result);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.articleids.find((function(e){return"pii"===e.idtype})).value,n=function(e){var t=e.replace(/[^a-z0-9]/gi,"");return"https://ars.els-cdn.com/content/image/1-s2.0-".concat(t,"-fx1_lrg.jpg")}(t);return 0===e.attributes.length?null:{imgSrc:n,title:e.title,status:e.recordstatus,id:e.uid,pii:t}};var j=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(0),i=Object(u.a)(c,2),o=i[0],j=i[1],x=Object(r.useState)("loading IDs"),m=Object(u.a)(x,2),g=m[0],v=m[1],O=Object(r.useState)(400),w=Object(u.a)(O,2),y=w[0],S=w[1],k=Object(r.useState)(""),C=Object(u.a)(k,2),z=C[0],I=C[1];Object(r.useEffect)((function(){Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(0);case 2:return t=e.sent,v("loading metadata"),e.next=6,p(t);case 6:n=e.sent,r=t.map((function(e){return h(n[e])})).filter((function(e){return null!==e})),a(r),v("loaded");case 10:case"end":return e.stop()}}),e)})))()}),[]);var D=Object(r.useCallback)((function(e,t){var r=Object(s.a)(n);r[e].id===t&&r.splice(e,1),a(r)}),[n]),F=Object(r.useCallback)((function(){Object(d.a)(l.a.mark((function e(){var t,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("loading more"),e.next=3,b(o+100);case 3:return t=e.sent,j((function(e){return e+100})),e.next=7,p(t);case 7:if(null!==(r=e.sent)){e.next=11;break}return v("failed to load, refresh"),e.abrupt("return");case 11:c=t.map((function(e){return h(r[e])})).filter((function(e){return null!==e})),a(n.concat(c)),v("loaded");case 14:case"end":return e.stop()}}),e)})))()}),[o,n]);return Object(f.jsxs)("div",{style:{width:"100%",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:[Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(f.jsx)("h1",{style:{margin:0,padding:0,fontSize:"18px"},children:"Cell Graphical Abstracts Browser"}),Object(f.jsx)("div",{children:Object(f.jsxs)("label",{children:["image size",Object(f.jsx)("input",{type:"range",min:"100",max:"1000",value:y,onChange:function(e){return S(parseInt(e.target.value,10))}})]})})]}),Object(f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"100%",flex:1,overflow:"auto"},children:["loaded"!==g&&0===n.length&&Object(f.jsx)("h1",{children:g}),n.map((function(e,t){return Object(f.jsx)("a",{href:"https://www.cell.com/cell/fulltext/".concat(e.pii),onMouseOver:function(){return I(e.id)},children:Object(f.jsxs)("div",{style:{margin:"5px",position:"relative"},children:[z===e.id&&Object(f.jsx)("div",{style:{position:"absolute",zIndex:1e3,backgroundColor:"rgba(255,255,255,0.8)",boxShadow:"var(--shadow-elevation-medium)"},children:Object(f.jsx)("h4",{children:e.title})}),Object(f.jsx)("img",{onError:function(){return D(t,e.id)},src:e.imgSrc,width:y,alt:e.title})]})},e.id)})),Object(f.jsxs)("div",{style:{width:"100%",height:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("button",{onClick:F,children:"loading more"===g?"loading...":"more"}),Object(f.jsxs)("h5",{children:[Object(f.jsx)("a",{href:"https://github.com/maxkrieger/gramstract",children:"fork on GitHub"}),". please support open access however you see fit"]})]})]})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(j,{})}),document.getElementById("root")),x()}},[[17,1,2]]]);
//# sourceMappingURL=main.883a2d2c.chunk.js.map